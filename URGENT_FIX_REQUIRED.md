# โ๏ธ ุฅุตูุงุญ ุนุงุฌู ูุทููุจ - ูุฑุฌู ุงููุฑุงุกุฉ

## ๐ด ุงููุถุน ุงูุญุงูู

ุงูุจุฑูุงูุฌ ูุนูู **ููู ุงูู notifications ูุง ุชุนูู** ุจุณุจุจ ูุดููุฉ ูู refresh tokens.

## โ ุงูุญู (3 ุฎุทูุงุช ุจุณูุทุฉ)

### ๐๏ธ ุฎุทูุฉ 0: ุงูุณุญ ุงูู Tokens ุงููุฏููุฉ ุฃููุงู

**ุงูุชุญ console ุงููุชุตูุญ (ุงุถุบุท F12) ูุงูุชุจ:**

```javascript
localStorage.clear();
console.log('โ Cache cleared!');
```

**ุซู ุฃุบูู ุงูุชุทุจูู ุชูุงูุงู (Ctrl+Shift+W ุฃู ุฃุบูู ุฌููุน tabs)**

---

### 1๏ธโฃ ุดุบู ูุงุนุฏุฉ ุงูุจูุงูุงุช

```bash
npm run db:start
```

**ุงูุชุธุฑ 15 ุซุงููุฉ** ุญุชู ุชุจุฏุฃ ูุงุนุฏุฉ ุงูุจูุงูุงุช

---

### 2๏ธโฃ ุทุจู ุงูุชุบููุฑุงุช ุนูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

```bash
npx prisma db push
```

ูุฌุจ ุฃู ุชุฑู:
```
โ Your database is now in sync with your Prisma schema.
```

**ุฅุฐุง ุธูุฑ ุฎุทุฃ** ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช:
```bash
# ุงุณุชุฎุฏู SQL ุงููุฏูู
psql -U postgres -d smart_campus_dev

# ุซู ุฏุงุฎู psql:
\i prisma/migrations/manual_migration_refresh_token.sql

# ุฃู ุงูุณุฎ ูุญุชูู ุงูููู ูุงูุตูู ูู psql
```

---

### 3๏ธโฃ ุฃุนุฏ ุชุดุบูู Backend

```bash
# ุฃููู Backend ุงูุญุงูู: Ctrl+C

# ุซู ุดุบูู ูู ุฌุฏูุฏ:
npm run server:dev
```

**ุงูุชุธุฑ ุญุชู ุชุฑู:**
```
โ Prisma Client generated successfully
๐ Smart Campus Assistant API server listening on http://localhost:3001
```

---

### 4๏ธโฃ ุงูุชุญ ุงูุชุทุจูู ูุณุฌู ุฏุฎูู

1. ุงูุชุญ ุงููุชุตูุญ
2. ุงุฐูุจ ุฅูู ุงูุชุทุจูู
3. ุณุฌู ุฏุฎูู ูู ุฌุฏูุฏ
4. โ **ูุฌุจ ุฃู ุชุนูู ุฌููุน ุงููุฒุงูุง ุจูุง ูููุง notifications!**

---

## ๐ ููู ุฃุนุฑู ุฃู ูู ุดูุก ูุนููุ

### โ ุนูุงูุงุช ุงููุฌุงุญ:

**ูู Backend Terminal:**
```
[AuthService] Login successful for user: 12345678
[AuthService] Refresh token stored in database successfully
```

**ูู Browser Console (F12):**
```
[ApiClient] Token refreshed successfully
โ No 401 errors
```

**ูู ุงูุชุทุจูู:**
- ุชุณุฌูู ุงูุฏุฎูู ูุนูู โ
- Notifications ุชุธูุฑ ุจุฏูู ุฃุฎุทุงุก โ
- ูุง ุชูุฌุฏ ุฃุฎุทุงุก 401 โ

---

## โ ุฅุฐุง ูู ููุฌุญ ุงูุญู

### ุงููุดููุฉ: ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุง ุชุนูู

```bash
# ุชุญูู ูู ุญุงูุฉ Docker
docker ps

# ุฅุฐุง ูู ูุธูุฑ PostgreSQLุ ุฃุนุฏ ุงูุชุดุบูู:
npm run db:stop
npm run db:start

# ุงูุชุธุฑ 20 ุซุงููุฉ ุซู ุญุงูู ูุฑุฉ ุฃุฎุฑู
npx prisma db push
```

### ุงููุดููุฉ: ุฎุทุฃ ูู Prisma

```bash
# ุฃุนุฏ ุชูููุฏ Prisma Client
npx prisma generate

# ุซู ุฃุนุฏ ุชุดุบูู Backend
npm run server:dev
```

### ุงููุดููุฉ: ูุง ุชุฒุงู ุฃุฎุทุงุก 401

```bash
# ุงูุณุญ localStorage ุชูุงูุงู
# ูู Browser Console:
localStorage.clear();
sessionStorage.clear();
location.reload();

# ุซู ุณุฌู ุฏุฎูู ูู ุฌุฏูุฏ
```

---

## ๐ Checklist

ูุจู ุฃู ุชุจุฏุฃุ ุชุฃูุฏ ูู:

- [ ] โ ุฃุบููุช ุฌููุน tabs ููุชุทุจูู
- [ ] โ ูุณุญุช localStorage ูู console
- [ ] โ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุชุนูู (`npm run db:start`)
- [ ] โ ุทุจูุช migration (`npx prisma db push`)
- [ ] โ Backend ูุนูู (`npm run server:dev`)
- [ ] โ ุณุฌูุช ุฏุฎูู ุฌุฏูุฏ

---

## ๐ฏ ููุงุฐุง ูุฐุง ูููุ

ุจุฏูู ูุฐู ุงูุฎุทูุงุช:
- โ Notifications ูู ุชุนูู
- โ ุณุชุธูุฑ ุฃุฎุทุงุก 401 ูุณุชูุฑุฉ
- โ Token refresh ูู ูุนูู
- โ ูุฏ ุชุญุชุงุฌ ูุชุณุฌูู ุฏุฎูู ูุชูุฑุฑ

ุจุนุฏ ูุฐู ุงูุฎุทูุงุช:
- โ Notifications ุชุนูู ุจุดูู ูุงูู
- โ ูุง ุชูุฌุฏ ุฃุฎุทุงุก 401
- โ Token refresh ูุนูู ุชููุงุฆูุงู
- โ ุชุจูู ูุณุฌู ุฏุฎูู ููุฏุฉ 7 ุฃูุงู

---

## ๐ ุฅุฐุง ุงุญุชุฌุช ูุณุงุนุฏุฉ

1. ุชุญูู ูู logs ูู Backend Terminal
2. ุชุญูู ูู errors ูู Browser Console (F12)
3. ุชุฃูุฏ ูู ุฃูู ุทุจูุช **ุฌููุน** ุงูุฎุทูุงุช ุจุงูุชุฑุชูุจ
4. ุฌุฑุจ ุฅุนุงุฏุฉ ุชุดุบูู ูู ุดูุก ูู ุงูุจุฏุงูุฉ

---

**ุงูุฎูุงุตุฉ**: 
1. ุงูุณุญ cache
2. ุดุบู DB
3. ุทุจู migration  
4. ุฃุนุฏ ุชุดุบูู backend
5. ุณุฌู ุฏุฎูู ุฌุฏูุฏ

**ุงูููุช ุงููุชููุน**: 2-3 ุฏูุงุฆู ููุท! โฑ๏ธ

โ **ุงูููุฏ ุฌุงูุฒ - ููุท ุงุชุจุน ุงูุฎุทูุงุช ุจุงูุชุฑุชูุจ!**

